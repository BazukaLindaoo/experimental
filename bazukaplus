local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local TeleportService = game:GetService("TeleportService")
local Debris = game:GetService("Debris")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Remover painel anterior
if playerGui:FindFirstChild("UltraModernAdminPanel") then
    playerGui.UltraModernAdminPanel:Destroy()
end

-- ScreenGui principal
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "UltraModernAdminPanel"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false
screenGui.DisplayOrder = 999

-- Tela de carregamento
local loadingScreen = Instance.new("Frame")
loadingScreen.Name = "LoadingScreen"
loadingScreen.Parent = screenGui
loadingScreen.Size = UDim2.new(1, 0, 1, 0)
loadingScreen.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
loadingScreen.BackgroundTransparency = 0.2
loadingScreen.Visible = true

local backgroundGradient = Instance.new("UIGradient")
backgroundGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(30, 0, 60)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 20, 50))
})
backgroundGradient.Rotation = 0
backgroundGradient.Parent = loadingScreen
TweenService:Create(backgroundGradient, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Rotation = 360}):Play()

local loadingCorner = Instance.new("UICorner")
loadingCorner.CornerRadius = UDim.new(0, 20)
loadingCorner.Parent = loadingScreen

-- Efeito de matrix
local function createMatrixLine()
    local line = Instance.new("TextLabel")
    line.Size = UDim2.new(0, 20, 0, math.random(50, 100))
    line.Position = UDim2.new(math.random(), math.random(-100, 0), 0, -100)
    line.BackgroundTransparency = 1
    line.Text = string.rep("01", math.random(10, 20))
    line.TextColor3 = Color3.fromRGB(0, 255, 150)
    line.TextTransparency = 0.7
    line.TextSize = 10
    line.Font = Enum.Font.Code
    line.Parent = loadingScreen
    line.ZIndex = 2
    TweenService:Create(line, TweenInfo.new(math.random(2, 4), Enum.EasingStyle.Linear), {
        Position = UDim2.new(line.Position.X.Scale, line.Position.X.Offset, 1, 100),
        TextTransparency = 1
    }):Play()
    Debris:AddItem(line, 4)
end

for i = 1, 10 do
    spawn(function()
        while loadingScreen.Visible do
            createMatrixLine()
            wait(math.random(0.2, 0.5))
        end
    end)
end

-- Logotipo com glitch
local logoLabel = Instance.new("TextLabel")
logoLabel.Name = "LogoLabel"
logoLabel.Parent = loadingScreen
logoLabel.Size = UDim2.new(0.7, 0, 0.2, 0)
logoLabel.Position = UDim2.new(0.5, 0, 0.45, 0)
logoLabel.BackgroundTransparency = 1
logoLabel.Text = "KitK4t ADM"
logoLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
logoLabel.TextSize = 60
logoLabel.Font = Enum.Font.GothamBlack
logoLabel.TextXAlignment = Enum.TextXAlignment.Center
logoLabel.ZIndex = 3

local logoGradient = Instance.new("UIGradient")
logoGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 150)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 0, 255))
})
logoGradient.Parent = logoLabel
TweenService:Create(logoGradient, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Offset = Vector2.new(1, 0)}):Play()

local haloFrame = Instance.new("Frame")
haloFrame.Name = "HaloFrame"
haloFrame.Parent = loadingScreen
haloFrame.Size = UDim2.new(0.8, 0, 0.25, 0)
haloFrame.Position = UDim2.new(0.5, 0, 0.45, 0)
haloFrame.BackgroundColor3 = Color3.fromRGB(0, 255, 150)
haloFrame.BackgroundTransparency = 0.9
haloFrame.ZIndex = 2
local haloCorner = Instance.new("UICorner")
haloCorner.CornerRadius = UDim.new(0, 20)
haloCorner.Parent = haloFrame
TweenService:Create(haloFrame, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {BackgroundTransparency = 0.95, Rotation = 360}):Play()

-- Barra de progresso
local progressBarFrame = Instance.new("Frame")
progressBarFrame.Name = "ProgressBarFrame"
progressBarFrame.Parent = loadingScreen
progressBarFrame.Size = UDim2.new(0.5, 0, 0.015, 0)
progressBarFrame.Position = UDim2.new(0.5, -0.25 * screenGui.AbsoluteSize.X, 0.6, 0)
progressBarFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
progressBarFrame.BackgroundTransparency = 0.5
progressBarFrame.BorderSizePixel = 0
progressBarFrame.ZIndex = 3

local progressBar = Instance.new("Frame")
progressBar.Name = "ProgressBar"
progressBar.Parent = progressBarFrame
progressBar.Size = UDim2.new(0, 0, 1, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(0, 255, 150)
progressBar.BorderSizePixel = 0
progressBar.ZIndex = 3

local progressBarGlow = Instance.new("UIGradient")
progressBarGlow.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 150)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(150, 0, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 255, 150))
})
progressBarGlow.Parent = progressBar
TweenService:Create(progressBarGlow, TweenInfo.new(0.8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Offset = Vector2.new(1, 0)}):Play()

-- Partículas
local function createParticle()
    local particle = Instance.new("Frame")
    particle.Size = UDim2.new(0, 8, 0, 8)
    particle.BackgroundColor3 = Color3.fromRGB(math.random(0, 150), math.random(150, 255), math.random(150, 255))
    particle.BorderSizePixel = 0
    particle.Parent = loadingScreen
    particle.ZIndex = 2
    local particleCorner = Instance.new("UICorner")
    particleCorner.CornerRadius = UDim.new(1, 0)
    particleCorner.Parent = particle
    return particle
end

local particles = {}
for i = 1, 20 do
    particles[i] = createParticle()
end

local function animateParticles()
    local time = 0
    local radius = 150
    local speed = 2
    while loadingScreen.Visible do
        for i, particle in ipairs(particles) do
            local angle = (i / #particles) * 2 * math.pi + time * speed
            local depth = math.sin(time + i) * 0.5 + 0.5
            local scale = 0.6 + depth * 0.4
            local x = math.cos(angle) * radius * (1 - depth * 0.3)
            local y = math.sin(angle) * radius * (1 - depth * 0.3)
            particle.Position = UDim2.new(0.5, x, 0.45, y)
            particle.Size = UDim2.new(0, 8 * scale, 0, 8 * scale)
            particle.BackgroundTransparency = 0.2 + depth * 0.5
            particle.Rotation = angle * 180 / math.pi
        end
        time = time + 0.016
        wait(0.016)
    end
end

local function animateGlitch()
    while loadingScreen.Visible do
        for i = 1, 5 do
            logoLabel.Position = UDim2.new(0.5, math.random(-10, 10), 0.45, math.random(-10, 10))
            logoLabel.TextTransparency = math.random(0.1, 0.4)
            logoLabel.Text = "KitK4t ADM" .. string.sub("!@#$%^&*()", math.random(1, 9), math.random(1, 9))
            wait(0.03)
            logoLabel.Position = UDim2.new(0.5, 0, 0.45, 0)
            logoLabel.TextTransparency = 0
            logoLabel.Text = "KitK4t ADM"
            wait(0.03)
        end
        wait(math.random(0.3, 1))
    end
end

local function animateLoadingScreen()
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxasset://sounds/ambience_01.mp3"
    sound.Volume = 0.6
    sound.Parent = loadingScreen
    sound:Play()
    Debris:AddItem(sound, 5)

    spawn(function()
        wait(4)
        local powerUpSound = Instance.new("Sound")
        powerUpSound.SoundId = "rbxasset://sounds/electronicpingshort.wav"
        powerUpSound.Volume = 0.5
        powerUpSound.Parent = loadingScreen
        powerUpSound:Play()
        Debris:AddItem(powerUpSound, 2)
        wait(0.5)
        local whooshSound = Instance.new("Sound")
        whooshSound.SoundId = "rbxasset://sounds/u_whoosh.wav"
        whooshSound.Volume = 0.4
        whooshSound.Parent = loadingScreen
        whooshSound:Play()
        Debris:AddItem(whooshSound, 2)
    end)

    TweenService:Create(progressBar, TweenInfo.new(4, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {Size = UDim2.new(1, 0, 1, 0)}):Play()

    spawn(animateParticles)
    spawn(animateGlitch)

    wait(4.5)
    for i = 1, 10 do
        local explosionParticle = createParticle()
        explosionParticle.Position = UDim2.new(0.5, math.random(-100, 100), 0.45, math.random(-100, 100))
        TweenService:Create(explosionParticle, TweenInfo.new(0.5, Enum.EasingStyle.Sine), {
            Position = UDim2.new(0.5, math.random(-200, 200), 0.45, math.random(-200, 200)),
            BackgroundTransparency = 1
        }):Play()
        Debris:AddItem(explosionParticle, 0.5)
    end

    TweenService:Create(loadingScreen, TweenInfo.new(0.5, Enum.EasingStyle.Sine), {BackgroundTransparency = 1}):Play()
    TweenService:Create(logoLabel, TweenInfo.new(0.5, Enum.EasingStyle.Sine), {TextTransparency = 1}):Play()
    TweenService:Create(haloFrame, TweenInfo.new(0.5, Enum.EasingStyle.Sine), {BackgroundTransparency = 1}):Play()
    TweenService:Create(progressBarFrame, TweenInfo.new(0.5, Enum.EasingStyle.Sine), {BackgroundTransparency = 1}):Play()
    TweenService:Create(progressBar, TweenInfo.new(0.5, Enum.EasingStyle.Sine), {BackgroundTransparency = 1}):Play()
    for _, particle in ipairs(particles) do
        TweenService:Create(particle, TweenInfo.new(0.5, Enum.EasingStyle.Sine), {BackgroundTransparency = 1}):Play()
    end

    wait(0.5)
    loadingScreen.Visible = false
end

-- Função para executar comandos
local function executeRealCommand(command, targetPlayerName)
    local success = false
    local targetPlayer = nil

    if targetPlayerName then
        for _, plr in pairs(Players:GetPlayers()) do
            if plr.Name:lower():find(targetPlayerName:lower()) or plr.DisplayName:lower():find(targetPlayerName:lower()) then
                targetPlayer = plr
                break
            end
        end
    end

    if not targetPlayer then
        return false, "Jogador não encontrado"
    end

    local successMessage = targetPlayer.DisplayName
    pcall(function()
        if command == "kick" then
            targetPlayer:Kick("Você foi kickado pelo admin")
            success = true
        elseif command == "jail" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local character = targetPlayer.Character
                local rootPart = character.HumanoidRootPart
                local jail = Instance.new("Model")
                jail.Name = "AdminJail_" .. targetPlayer.Name
                jail.Parent = workspace
                local jailSize, jailHeight = 8, 12

                local function createWall(name, size, position)
                    local wall = Instance.new("Part")
                    wall.Name = name
                    wall.Parent = jail
                    wall.Size = size
                    wall.Position = rootPart.Position + position
                    wall.BrickColor = BrickColor.new("Really black")
                    wall.Transparency = 0.3
                    wall.CanCollide = true
                    wall.Anchored = true
                    local selectionBox = Instance.new("SelectionBox")
                    selectionBox.Adornee = wall
                    selectionBox.LineThickness = 0.05
                    selectionBox.Color3 = Color3.fromRGB(150, 0, 255)
                    selectionBox.Parent = wall
                    return wall
                end

                createWall("Wall1", Vector3.new(0.5, jailHeight, jailSize), Vector3.new(-jailSize/2, jailHeight/2, 0))
                createWall("Wall2", Vector3.new(0.5, jailHeight, jailSize), Vector3.new(jailSize/2, jailHeight/2, 0))
                createWall("Wall3", Vector3.new(jailSize, jailHeight, 0.5), Vector3.new(0, jailHeight/2, -jailSize/2))
                createWall("Wall4", Vector3.new(jailSize, jailHeight, 0.5), Vector3.new(0, jailHeight/2, jailSize/2))
                createWall("Ceiling", Vector3.new(jailSize, 0.5, jailSize), Vector3.new(0, jailHeight, 0))
                createWall("Floor", Vector3.new(jailSize, 0.5, jailSize), Vector3.new(0, 0, 0))

                rootPart.CFrame = CFrame.new(rootPart.Position + Vector3.new(0, 1, 0))
                if character:FindFirstChild("Humanoid") then
                    local humanoid = character.Humanoid
                    humanoid.JumpPower = 0
                    humanoid.WalkSpeed = 0
                end

                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/slam_door.mp3"
                sound.Volume = 0.5
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 3)
                success = true
            end
        elseif command == "unjail" then
            local jail = workspace:FindFirstChild("AdminJail_" .. targetPlayer.Name)
            if jail then
                jail:Destroy()
                if targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                    local humanoid = targetPlayer.Character.Humanoid
                    humanoid.JumpPower = 50
                    humanoid.WalkSpeed = 16
                end
                success = true
            end
        elseif command == "freeze" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                local character = targetPlayer.Character
                local humanoid = character.Humanoid
                local rootPart = character.HumanoidRootPart
                local freezeEffect = Instance.new("SelectionBox")
                freezeEffect.Name = "FreezeEffect_" .. targetPlayer.Name
                freezeEffect.Parent = rootPart
                freezeEffect.Adornee = rootPart
                freezeEffect.Color3 = Color3.fromRGB(100, 200, 255)
                freezeEffect.Transparency = 0.5
                freezeEffect.LineThickness = 0.2
                humanoid.WalkSpeed = 0
                humanoid.JumpPower = 0
                humanoid.PlatformStand = true
                for _, part in pairs(character:GetChildren()) do
                    if part:IsA("BasePart") then
                        local bodyPosition = Instance.new("BodyPosition")
                        bodyPosition.Name = "FreezePosition"
                        bodyPosition.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                        bodyPosition.Position = part.Position
                        bodyPosition.Parent = part
                    end
                end
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/impact_ice.mp3"
                sound.Volume = 0.3
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 3)
                success = true
            end
        elseif command == "unfreeze" then
            if targetPlayer.Character then
                local character = targetPlayer.Character
                local rootPart = character.HumanoidRootPart
                local freezeEffect = rootPart:FindFirstChild("FreezeEffect_" .. targetPlayer.Name)
                if freezeEffect then
                    freezeEffect:Destroy()
                end
                if character:FindFirstChild("Humanoid") then
                    local humanoid = character.Humanoid
                    humanoid.WalkSpeed = 16
                    humanoid.JumpPower = 50
                    humanoid.PlatformStand = false
                end
                for _, part in pairs(character:GetChildren()) do
                    if part:IsA("BasePart") then
                        local bodyPos = part:FindFirstChild("FreezePosition")
                        if bodyPos then
                            bodyPos:Destroy()
                        end
                    end
                end
                success = true
            end
        elseif command == "verify" then
            local gui = Instance.new("ScreenGui")
            gui.Name = "VerifyEffect"
            gui.Parent = player.PlayerGui
            local frame = Instance.new("Frame")
            frame.Size = UDim2.new(1, 0, 1, 0)
            frame.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
            frame.BackgroundTransparency = 0.5
            frame.Parent = gui
            local label = Instance.new("TextLabel")
            label.Size = UDim2.new(1, 0, 1, 0)
            label.BackgroundTransparency = 1
            label.Text = "✅ VERIFIED ✅\nCOQUETTE HUB ATIVADO"
            label.TextColor3 = Color3.fromRGB(255, 255, 255)
            label.TextSize = 48
            label.Font = Enum.Font.GothamBold
            label.Parent = frame
            for i = 1, 5 do
                local particle = createParticle()
                particle.Position = UDim2.new(0.5, math.random(-100, 100), 0.5, math.random(-100, 100))
                particle.Parent = gui
                TweenService:Create(particle, TweenInfo.new(0.5), {Position = UDim2.new(0.5, math.random(-200, 200), 0.5, math.random(-200, 200)), BackgroundTransparency = 1}):Play()
                Debris:AddItem(particle, 0.5)
            end
            Debris:AddItem(gui, 3)
            success = true
        elseif command == "tp" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local targetRoot = targetPlayer.Character.HumanoidRootPart
                local adminRoot = player.Character.HumanoidRootPart
                for i = 1, 5 do
                    local particle = Instance.new("Part")
                    particle.Size = Vector3.new(0.2, 0.2, 0.2)
                    particle.Position = targetRoot.Position
                    particle.Color = Color3.fromRGB(math.random(0, 150), math.random(150, 255), math.random(150, 255))
                    particle.Anchored = true
                    particle.CanCollide = false
                    particle.Parent = workspace
                    TweenService:Create(particle, TweenInfo.new(0.5), {Position = targetRoot.Position + Vector3.new(math.random(-2, 2), math.random(-2, 2), math.random(-2, 2)), Transparency = 1}):Play()
                    Debris:AddItem(particle, 0.5)
                end
                targetRoot.CFrame = adminRoot.CFrame * CFrame.new(0, 0, -2)
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/u_whoosh.wav"
                sound.Volume = 0.4
                sound.Parent = targetRoot
                sound:Play()
                Debris:AddItem(sound, 2)
                success = true
            end
        elseif command == "godmode" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                local humanoid = targetPlayer.Character.Humanoid
                local rootPart = targetPlayer.Character.HumanoidRootPart
                local aura = Instance.new("PointLight")
                aura.Name = "GodmodeAura_" .. targetPlayer.Name
                aura.Brightness = 1
                aura.Range = 8
                aura.Color = Color3.fromRGB(150, 0, 255)
                aura.Parent = rootPart
                humanoid.MaxHealth = math.huge
                humanoid.Health = math.huge
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/electronicpingshort.wav"
                sound.Volume = 0.3
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 2)
                success = true
            end
        elseif command == "speed" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                local humanoid = targetPlayer.Character.Humanoid
                local rootPart = targetPlayer.Character.HumanoidRootPart
                humanoid.WalkSpeed = humanoid.WalkSpeed == 16 and 32 or 16
                for i = 1, 5 do
                    local particle = Instance.new("Part")
                    particle.Size = Vector3.new(0.2, 0.2, 0.2)
                    particle.Position = rootPart.Position
                    particle.Color = Color3.fromRGB(math.random(0, 150), math.random(150, 255), math.random(150, 255))
                    particle.Anchored = true
                    particle.CanCollide = false
                    particle.Parent = workspace
                    TweenService:Create(particle, TweenInfo.new(0.5), {Position = rootPart.Position + Vector3.new(math.random(-2, 2), math.random(-2, 2), math.random(-2, 2)), Transparency = 1}):Play()
                    Debris:AddItem(particle, 0.5)
                end
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/electronicpingshort.wav"
                sound.Volume = 0.3
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 2)
                success = true
            end
        elseif command == "kill" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                local humanoid = targetPlayer.Character.Humanoid
                local rootPart = targetPlayer.Character.HumanoidRootPart
                for i = 1, 5 do
                    local particle = Instance.new("Part")
                    particle.Size = Vector3.new(0.2, 0.2, 0.2)
                    particle.Position = rootPart.Position
                    particle.Color = Color3.fromRGB(255, 70, 70)
                    particle.Anchored = true
                    particle.CanCollide = false
                    particle.Parent = workspace
                    TweenService:Create(particle, TweenInfo.new(0.5), {Position = rootPart.Position + Vector3.new(math.random(-2, 2), math.random(-2, 2), math.random(-2, 2)), Transparency = 1}):Play()
                    Debris:AddItem(particle, 0.5)
                end
                humanoid.Health = 0
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/impact_explosion.mp3"
                sound.Volume = 0.4
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 2)
                success = true
            end
        elseif command == "respawn" then
            if targetPlayer.Character then
                local rootPart = targetPlayer.Character.HumanoidRootPart
                for i = 1, 5 do
                    local particle = Instance.new("Part")
                    particle.Size = Vector3.new(0.2, 0.2, 0.2)
                    particle.Position = rootPart.Position + Vector3.new(0, -2, 0)
                    particle.Color = Color3.fromRGB(math.random(0, 150), math.random(150, 255), math.random(150, 255))
                    particle.Anchored = true
                    particle.CanCollide = false
                    particle.Parent = workspace
                    TweenService:Create(particle, TweenInfo.new(0.5), {Position = rootPart.Position + Vector3.new(0, 2, 0), Transparency = 1}):Play()
                    Debris:AddItem(particle, 0.5)
                end
                targetPlayer:LoadCharacter()
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/u_whoosh.wav"
                sound.Volume = 0.4
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 2)
                success = true
            end
        elseif command == "ban" then
            if targetPlayer.Character then
                local rootPart = targetPlayer.Character.HumanoidRootPart
                for i = 1, 5 do
                    local particle = Instance.new("Part")
                    particle.Size = Vector3.new(0.2, 0.2, 0.2)
                    particle.Position = rootPart.Position
                    particle.Color = Color3.fromRGB(255, 50, 50)
                    particle.Anchored = true
                    particle.CanCollide = false
                    particle.Parent = workspace
                    TweenService:Create(particle, TweenInfo.new(0.5), {Position = rootPart.Position + Vector3.new(math.random(-2, 2), math.random(-2, 2), math.random(-2, 2)), Transparency = 1}):Play()
                    Debris:AddItem(particle, 0.5)
                end
                targetPlayer:Kick("Você foi banido pelo admin")
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/impact_explosion.mp3"
                sound.Volume = 0.4
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 2)
                success = true
            end
        elseif command == "givetool" then
            if targetPlayer.Character then
                local tool = Instance.new("Tool")
                tool.Name = "AdminSword"
                tool.RequiresHandle = true
                local handle = Instance.new("Part")
                handle.Name = "Handle"
                handle.Size = Vector3.new(0.4, 2, 0.4)
                handle.BrickColor = BrickColor.new("Really black")
                handle.Parent = tool
                tool.Parent = targetPlayer.Backpack
                local rootPart = targetPlayer.Character.HumanoidRootPart
                for i = 1, 5 do
                    local particle = Instance.new("Part")
                    particle.Size = Vector3.new(0.2, 0.2, 0.2)
                    particle.Position = rootPart.Position
                    particle.Color = Color3.fromRGB(math.random(0, 150), math.random(150, 255), math.random(150, 255))
                    particle.Anchored = true
                    particle.CanCollide = false
                    particle.Parent = workspace
                    TweenService:Create(particle, TweenInfo.new(0.5), {Position = rootPart.Position + Vector3.new(math.random(-2, 2), math.random(-2, 2), math.random(-2, 2)), Transparency = 1}):Play()
                    Debris:AddItem(particle, 0.5)
                end
                local sound = Instance.new("Sound")
                sound.SoundId = "rbxasset://sounds/electronicpingshort.wav"
                sound.Volume = 0.3
                sound.Parent = rootPart
                sound:Play()
                Debris:AddItem(sound, 2)
                success = true
            end
        elseif command == "fly" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                local humanoid = targetPlayer.Character.Humanoid
                local rootPart = targetPlayer.Character.HumanoidRootPart
                local existingFly = rootPart:FindFirstChild("FlyEffect_" .. targetPlayer.Name)
                if existingFly then
                    existingFly:Destroy()
                    if rootPart:FindFirstChild("BodyVelocity") then
                        rootPart.BodyVelocity:Destroy()
                    end
                    if rootPart:FindFirstChild("BodyGyro") then
                        rootPart.BodyGyro:Destroy()
                    end
                else
                    local bodyVelocity = Instance.new("BodyVelocity")
                    bodyVelocity.Name = "FlyVelocity"
                    bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                    bodyVelocity.Velocity = Vector3.new(0, 0, 0)
                    bodyVelocity.Parent = rootPart
                    local bodyGyro = Instance.new("BodyGyro")
                    bodyGyro.Name = "FlyGyro"
                    bodyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
                    bodyGyro.CFrame = rootPart.CFrame
                    bodyGyro.Parent = rootPart
                    local cloudEffect = Instance.new("SelectionBox")
                    cloudEffect.Name = "FlyEffect_" .. targetPlayer.Name
                    cloudEffect.Adornee = rootPart
                    cloudEffect.Color3 = Color3.fromRGB(200, 200, 255)
                    cloudEffect.Transparency = 0.5
                    cloudEffect.LineThickness = 0.2
                    cloudEffect.Parent = rootPart
                    spawn(function()
                        while rootPart:FindFirstChild("FlyVelocity") do
                            local moveDirection = humanoid.MoveDirection * 50
                            bodyVelocity.Velocity = Vector3.new(moveDirection.X, humanoid.Jump and 50 or (humanoid.FloorMaterial == Enum.Material.Air and -50 or 0), moveDirection.Z)
                            bodyGyro.CFrame = CFrame.new(Vector3.new(0, 0, 0), humanoid.MoveDirection)
                            wait()
                        end
                    end)
                    local sound = Instance.new("Sound")
                    sound.SoundId = "rbxasset://sounds/u_whoosh.wav"
                    sound.Volume = 0.4
                    sound.Parent = rootPart
                    sound:Play()
                    Debris:AddItem(sound, 2)
                end
                success = true
            end
        end
    end)
    return success, successMessage
end

-- Botão Adm
local adminButton = Instance.new("TextButton")
adminButton.Name = "AdminButton"
adminButton.Parent = screenGui
adminButton.Size = UDim2.new(0, 50, 0, 50)
adminButton.Position = UDim2.new(0.5, -25, 0.5, -25)
adminButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
adminButton.BackgroundTransparency = 0.2
adminButton.Text = "Adm"
adminButton.TextColor3 = Color3.fromRGB(255, 255, 255)
adminButton.TextSize = 14
adminButton.Font = Enum.Font.GothamBlack
adminButton.AutoButtonColor = false
adminButton.Visible = false

local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 10)
buttonCorner.Parent = adminButton

local buttonGradient = Instance.new("UIGradient")
buttonGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 150)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 0, 255))
})
buttonGradient.Parent = adminButton
TweenService:Create(buttonGradient, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Offset = Vector2.new(1, 0)}):Play()

local buttonGlow = Instance.new("SelectionBox")
buttonGlow.Adornee = adminButton
buttonGlow.LineThickness = 0.03
buttonGlow.Color3 = Color3.fromRGB(0, 255, 150)
buttonGlow.Transparency = 0.5
buttonGlow.Parent = adminButton
TweenService:Create(buttonGlow, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Transparency = 0.7}):Play()

-- Oscilação do botão Adm
local basePosition = adminButton.Position -- Salva a posição inicial
spawn(function()
    while adminButton.Parent do -- Continua enquanto o botão existe
        -- Sobe 5 pixels
        TweenService:Create(adminButton, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Position = basePosition + UDim2.new(0, 0, 0, -5)
        }):Play()
        wait(2)
        -- Desce 5 pixels
        TweenService:Create(adminButton, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
            Position = basePosition + UDim2.new(0, 0, 0, 5)
        }):Play()
        wait(2)
    end
end)

local function createButtonParticle()
    local particle = Instance.new("Frame")
    particle.Size = UDim2.new(0, 5, 0, 5)
    particle.BackgroundColor3 = Color3.fromRGB(math.random(0, 150), math.random(150, 255), math.random(150, 255))
    particle.BorderSizePixel = 0
    particle.Parent = adminButton
    particle.ZIndex = 1
    local particleCorner = Instance.new("UICorner")
    particleCorner.CornerRadius = UDim.new(1, 0)
    particleCorner.Parent = particle
    return particle
end

spawn(function()
    while true do
        local particle = createButtonParticle()
        particle.Position = UDim2.new(0.5, math.random(-25, 25), 0.5, math.random(-25, 25))
        TweenService:Create(particle, TweenInfo.new(1, Enum.EasingStyle.Sine), {Position = UDim2.new(0.5, math.random(-50, 50), 0.5, math.random(-50, 50)), BackgroundTransparency = 1}):Play()
        Debris:AddItem(particle, 1)
        wait(0.2)
    end
end)

local dragging, dragStart, startPos
adminButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = adminButton.Position
    end
end)

adminButton.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - dragStart
        adminButton.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        basePosition = adminButton.Position -- Atualiza a basePosition ao arrastar
    end
end)

adminButton.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

-- Painel principal
local mainPanel = Instance.new("Frame")
mainPanel.Name = "MainPanel"
mainPanel.Parent = screenGui
mainPanel.Size = UDim2.new(0, 400, 0, 550)
mainPanel.Position = UDim2.new(0.5, -200, 0.5, -275)
mainPanel.BackgroundColor3 = Color3.fromRGB(10, 10, 20)
mainPanel.BackgroundTransparency = 0.1
mainPanel.BorderSizePixel = 0
mainPanel.Visible = false

local panelGradient = Instance.new("UIGradient")
panelGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(10, 10, 20)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(50, 30, 80))
})
panelGradient.Rotation = 45
panelGradient.Parent = mainPanel
TweenService:Create(panelGradient, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Rotation = 135}):Play()

local panelCorner = Instance.new("UICorner")
panelCorner.CornerRadius = UDim.new(0, 20)
panelCorner.Parent = mainPanel

local panelGlow = Instance.new("SelectionBox")
panelGlow.Adornee = mainPanel
panelGlow.LineThickness = 0.03
panelGlow.Color3 = Color3.fromRGB(150, 0, 255)
panelGlow.Transparency = 0.5
panelGlow.Parent = mainPanel
TweenService:Create(panelGlow, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Transparency = 0.7}):Play()

local scanLine = Instance.new("Frame")
scanLine.Size = UDim2.new(1, 0, 0, 2)
scanLine.BackgroundColor3 = Color3.fromRGB(0, 255, 150)
scanLine.BackgroundTransparency = 0.7
scanLine.Parent = mainPanel
scanLine.ZIndex = 2
spawn(function()
    while true do
        scanLine.Position = UDim2.new(0, 0, 0, -2)
        TweenService:Create(scanLine, TweenInfo.new(2, Enum.EasingStyle.Sine), {Position = UDim2.new(0, 0, 1, 2)}):Play()
        wait(2.5)
    end
end)

-- Cabeçalho
local header = Instance.new("Frame")
header.Name = "Header"
header.Parent = mainPanel
header.Size = UDim2.new(1, 0, 0, 70)
header.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
header.BorderSizePixel = 0

local headerGradient = Instance.new("UIGradient")
headerGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 150)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 0, 255))
})
headerGradient.Parent = header
TweenService:Create(headerGradient, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Offset = Vector2.new(1, 0)}):Play()

local headerCorner = Instance.new("UICorner")
headerCorner.CornerRadius = UDim.new(0, 20)
headerCorner.Parent = header

local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "TitleLabel"
titleLabel.Parent = header
titleLabel.Size = UDim2.new(1, -50, 1, 0)
titleLabel.Position = UDim2.new(0, 15, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "KitK4t ADM"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextSize = 24
titleLabel.Font = Enum.Font.GothamBlack
titleLabel.TextXAlignment = Enum.TextXAlignment.Left

local titleGradient = Instance.new("UIGradient")
titleGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 150)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 0, 255))
})
titleGradient.Parent = titleLabel
TweenService:Create(titleGradient, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Offset = Vector2.new(1, 0)}):Play()

spawn(function()
    while true do
        for i = 1, 3 do
            titleLabel.Position = UDim2.new(0, 15 + math.random(-3, 3), 0, math.random(-3, 3))
            wait(0.05)
            titleLabel.Position = UDim2.new(0, 15, 0, 0)
            wait(0.05)
        end
        wait(math.random(1.5, 3))
    end
end)

local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Parent = header
closeButton.Size = UDim2.new(0, 35, 0, 35)
closeButton.Position = UDim2.new(1, -45, 0.5, -17.5)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
closeButton.BackgroundTransparency = 0.2
closeButton.Text = "×"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextSize = 20
closeButton.Font = Enum.Font.GothamBold
closeButton.AutoButtonColor = false

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 17.5)
closeCorner.Parent = closeButton

local closeGlow = Instance.new("SelectionBox")
closeGlow.Adornee = closeButton
closeGlow.LineThickness = 0.03
closeGlow.Color3 = Color3.fromRGB(255, 100, 100)
closeGlow.Transparency = 0.5
closeGlow.Parent = closeButton

-- Frame de conteúdo
local contentFrame = Instance.new("Frame")
contentFrame.Name = "ContentFrame"
contentFrame.Parent = mainPanel
contentFrame.Size = UDim2.new(1, -20, 1, -90)
contentFrame.Position = UDim2.new(0, 10, 0, 80)
contentFrame.BackgroundTransparency = 1

local playerLabel = Instance.new("TextLabel")
playerLabel.Parent = contentFrame
playerLabel.Size = UDim2.new(1, 0, 0, 25)
playerLabel.BackgroundTransparency = 1
playerLabel.Text = "Jogador:"
playerLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
playerLabel.TextSize = 14
playerLabel.Font = Enum.Font.Gotham
playerLabel.TextXAlignment = Enum.TextXAlignment.Left

local dropdownContainer = Instance.new("Frame")
dropdownContainer.Parent = contentFrame
dropdownContainer.Size = UDim2.new(1, 0, 0, 40)
dropdownContainer.Position = UDim2.new(0, 0, 0, 30)
dropdownContainer.BackgroundTransparency = 1

local dropdownFrame = Instance.new("Frame")
dropdownFrame.Parent = dropdownContainer
dropdownFrame.Size = UDim2.new(1, 0, 1, 0)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
dropdownFrame.BackgroundTransparency = 0.2
dropdownFrame.BorderSizePixel = 0

local dropdownCorner = Instance.new("UICorner")
dropdownCorner.CornerRadius = UDim.new(0, 10)
dropdownCorner.Parent = dropdownFrame

local dropdownGlow = Instance.new("SelectionBox")
dropdownGlow.Adornee = dropdownFrame
dropdownGlow.LineThickness = 0.03
dropdownGlow.Color3 = Color3.fromRGB(150, 0, 255)
dropdownGlow.Transparency = 0.5
dropdownGlow.Parent = dropdownFrame

local dropdownButton = Instance.new("TextButton")
dropdownButton.Parent = dropdownFrame
dropdownButton.Size = UDim2.new(1, -30, 1, 0)
dropdownButton.Position = UDim2.new(0, 10, 0, 0)
dropdownButton.BackgroundTransparency = 1
dropdownButton.Text = "Selecionar jogador..."
dropdownButton.TextColor3 = Color3.fromRGB(200, 200, 200)
dropdownButton.TextSize = 12
dropdownButton.Font = Enum.Font.Gotham
dropdownButton.TextXAlignment = Enum.TextXAlignment.Left
dropdownButton.TextTruncate = Enum.TextTruncate.AtEnd

local dropdownArrow = Instance.new("TextLabel")
dropdownArrow.Parent = dropdownFrame
dropdownArrow.Size = UDim2.new(0, 20, 1, 0)
dropdownArrow.Position = UDim2.new(1, -25, 0, 0)
dropdownArrow.BackgroundTransparency = 1
dropdownArrow.Text = "▶"
dropdownArrow.TextColor3 = Color3.fromRGB(150, 150, 150)
dropdownArrow.TextSize = 10
dropdownArrow.Font = Enum.Font.Gotham

local dropdownList = Instance.new("ScrollingFrame")
dropdownList.Parent = dropdownContainer
dropdownList.Size = UDim2.new(0, 200, 0, 0)
dropdownList.Position = UDim2.new(1, 10, 0, 0)
dropdownList.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
dropdownList.BackgroundTransparency = 0.2
dropdownList.BorderSizePixel = 0
dropdownList.ScrollBarThickness = 3
dropdownList.Visible = false
dropdownList.CanvasSize = UDim2.new(0, 0, 0, 0)

local listCorner = Instance.new("UICorner")
listCorner.CornerRadius = UDim.new(0, 10)
listCorner.Parent = dropdownList

local listGlow = Instance.new("SelectionBox")
listGlow.Adornee = dropdownList
listGlow.LineThickness = 0.03
listGlow.Color3 = Color3.fromRGB(150, 0, 255)
listGlow.Transparency = 0.5
listGlow.Parent = dropdownList

local listLayout = Instance.new("UIListLayout")
listLayout.Parent = dropdownList
listLayout.SortOrder = Enum.SortOrder.Name
listLayout.Padding = UDim.new(0, 2)

local selectedPlayer, dropdownOpen = nil, false

local function updatePlayerList()
    for _, child in pairs(dropdownList:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end

    local playerCount = 0
    for _, plr in pairs(Players:GetPlayers()) do
        playerCount = playerCount + 1
        local playerOption = Instance.new("TextButton")
        playerOption.Name = plr.Name
        playerOption.Parent = dropdownList
        playerOption.Size = UDim2.new(1, 0, 0, 30)
        playerOption.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
        playerOption.BackgroundTransparency = 0.2
        playerOption.Text = " " .. plr.DisplayName
        playerOption.TextColor3 = Color3.fromRGB(255, 255, 255)
        playerOption.TextSize = 11
        playerOption.Font = Enum.Font.Gotham
        playerOption.TextXAlignment = Enum.TextXAlignment.Left
        playerOption.AutoButtonColor = false

        local optionCorner = Instance.new("UICorner")
        optionCorner.CornerRadius = UDim.new(0, 8)
        optionCorner.Parent = playerOption

        local optionGradient = Instance.new("UIGradient")
        optionGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 150)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 0, 255))
        })
        optionGradient.Enabled = false
        optionGradient.Parent = playerOption

        playerOption.MouseEnter:Connect(function()
            TweenService:Create(playerOption, TweenInfo.new(0.15), {BackgroundTransparency = 0}):Play()
            optionGradient.Enabled = true
            local sound = Instance.new("Sound")
            sound.SoundId = "rbxasset://sounds/u_click.wav"
            sound.Volume = 0.2
            sound.Parent = playerOption
            sound:Play()
            Debris:AddItem(sound, 1)
        end)

        playerOption.MouseLeave:Connect(function()
            TweenService:Create(playerOption, TweenInfo.new(0.15), {BackgroundTransparency = 0.2}):Play()
            optionGradient.Enabled = false
        end)

        playerOption.MouseButton1Click:Connect(function()
            selectedPlayer = plr.Name
            dropdownButton.Text = plr.DisplayName
            dropdownButton.TextColor3 = Color3.fromRGB(100, 255, 100)
            for i = 1, 5 do
                local particle = createParticle()
                particle.Position = UDim2.new(0.5, math.random(-50, 50), 0.5, math.random(-50, 50))
                particle.Parent = dropdownFrame
                TweenService:Create(particle, TweenInfo.new(0.5), {Position = UDim2.new(0.5, math.random(-100, 100), 0.5, math.random(-100, 100)), BackgroundTransparency = 1}):Play()
                Debris:AddItem(particle, 0.5)
            end
            dropdownOpen = false
            dropdownArrow.Text = "▶"
            local closeTween = TweenService:Create(dropdownList, TweenInfo.new(0.25), {Size = UDim2.new(0, 200, 0, 0)})
            closeTween:Play()
            closeTween.Completed:Connect(function()
                dropdownList.Visible = false
            end)
        end)
    end
    dropdownList.CanvasSize = UDim2.new(0, 0, 0, playerCount * 32)
end

dropdownButton.MouseEnter:Connect(function()
    TweenService:Create(dropdownFrame, TweenInfo.new(0.15), {BackgroundTransparency = 0}):Play()
    TweenService:Create(dropdownGlow, TweenInfo.new(0.15), {Transparency = 0.3}):Play()
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxasset://sounds/u_click.wav"
    sound.Volume = 0.2
    sound.Parent = dropdownFrame
    sound:Play()
    Debris:AddItem(sound, 1)
end)

dropdownButton.MouseLeave:Connect(function()
    TweenService:Create(dropdownFrame, TweenInfo.new(0.15), {BackgroundTransparency = 0.2}):Play()
    TweenService:Create(dropdownGlow, TweenInfo.new(0.15), {Transparency = 0.5}):Play()
end)

dropdownButton.MouseButton1Click:Connect(function()
    if not dropdownOpen then
        updatePlayerList()
        dropdownList.Visible = true
        dropdownList.Size = UDim2.new(0, 200, 0, 0)
        dropdownArrow.Text = "▼"
        local maxHeight = math.min(150, #Players:GetPlayers() * 32)
        TweenService:Create(dropdownList, TweenInfo.new(0.25), {Size = UDim2.new(0, 200, 0, maxHeight)}):Play()
        dropdownOpen = true
    else
        dropdownArrow.Text = "▶"
        local closeTween = TweenService:Create(dropdownList, TweenInfo.new(0.25), {Size = UDim2.new(0, 200, 0, 0)})
        closeTween:Play()
        closeTween.Completed:Connect(function()
            dropdownList.Visible = false
        end)
        dropdownOpen = false
    end
end)

local buttonsFrame = Instance.new("ScrollingFrame")
buttonsFrame.Parent = contentFrame
buttonsFrame.Size = UDim2.new(1, 0, 1, -100)
buttonsFrame.Position = UDim2.new(0, 0, 0, 90)
buttonsFrame.BackgroundTransparency = 1
buttonsFrame.BorderSizePixel = 0
buttonsFrame.ScrollBarThickness = 3
buttonsFrame.CanvasSize = UDim2.new(0, 0, 0, 450)

local buttonsLayout = Instance.new("UIGridLayout")
buttonsLayout.Parent = buttonsFrame
buttonsLayout.CellSize = UDim2.new(0, 180, 0, 45)
buttonsLayout.CellPadding = UDim2.new(0, 10, 0, 10)
buttonsLayout.SortOrder = Enum.SortOrder.Name

local adminCommands = {
    {name = "Kick", command = "kick", color = Color3.fromRGB(255, 70, 70)},
    {name = "Jail", command = "jail", color = Color3.fromRGB(255, 180, 50)},
    {name = "Unjail", command = "unjail", color = Color3.fromRGB(70, 255, 70)},
    {name = "Freeze", command = "freeze", color = Color3.fromRGB(70, 180, 255)},
    {name = "Unfreeze", command = "unfreeze", color = Color3.fromRGB(255, 120, 50)},
    {name = "Teleport", command = "tp", color = Color3.fromRGB(200, 50, 255)},
    {name = "Godmode", command = "godmode", color = Color3.fromRGB(255, 200, 50)},
    {name = "Speed", command = "speed", color = Color3.fromRGB(50, 255, 200)},
    {name = "Kill", command = "kill", color = Color3.fromRGB(255, 50, 50)},
    {name = "Respawn", command = "respawn", color = Color3.fromRGB(50, 200, 255)},
    {name = "Ban", command = "ban", color = Color3.fromRGB(200, 50, 50)},
    {name = "GiveTool", command = "givetool", color = Color3.fromRGB(150, 100, 255)},
    {name = "Fly", command = "fly", color = Color3.fromRGB(100, 200, 255)},
    {name = "Verify", command = "verify", color = Color3.fromRGB(150, 70, 255), special = true}
}

local function createCompactButton(command)
    local button = Instance.new("TextButton")
    button.Name = command.name .. "Button"
    button.Parent = buttonsFrame
    button.BackgroundColor3 = command.color
    button.BackgroundTransparency = 0.2
    button.Text = command.name
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 14
    button.Font = Enum.Font.GothamSemibold
    button.AutoButtonColor = false

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 12)
    btnCorner.Parent = button

    local btnGradient = Instance.new("UIGradient")
    btnGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, command.color),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(command.color.r * 255 * 0.7, command.color.g * 255 * 0.7, command.color.b * 255 * 0.7))
    })
    btnGradient.Parent = button
    TweenService:Create(btnGradient, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Offset = Vector2.new(1, 0)}):Play()

    local btnGlow = Instance.new("SelectionBox")
    btnGlow.Adornee = button
    btnGlow.LineThickness = 0.03
    btnGlow.Color3 = command.color
    btnGlow.Transparency = 0.5
    btnGlow.Parent = button

    button.MouseEnter:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.15), {BackgroundTransparency = 0, Size = UDim2.new(0, 185, 0, 48)}):Play()
        TweenService:Create(btnGlow, TweenInfo.new(0.15), {Transparency = 0.3}):Play()
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxasset://sounds/u_click.wav"
        sound.Volume = 0.2
        sound.Parent = button
        sound:Play()
        Debris:AddItem(sound, 1)
    end)

    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.15), {BackgroundTransparency = 0.2, Size = UDim2.new(0, 180, 0, 45)}):Play()
        TweenService:Create(btnGlow, TweenInfo.new(0.15), {Transparency = 0.5}):Play()
    end)

    button.MouseButton1Click:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {Size = UDim2.new(0, 170, 0, 42)}):Play()
        wait(0.1)
        TweenService:Create(button, TweenInfo.new(0.1), {Size = UDim2.new(0, 180, 0, 45)}):Play()

        for i = 1, 5 do
            local particle = createParticle()
            particle.Position = UDim2.new(0.5, math.random(-50, 50), 0.5, math.random(-50, 50))
            particle.Parent = button
            TweenService:Create(particle, TweenInfo.new(0.5), {Position = UDim2.new(0.5, math.random(-100, 100), 0.5, math.random(-100, 100)), BackgroundTransparency = 1}):Play()
            Debris:AddItem(particle, 0.5)
        end

        if command.special then
            titleLabel.Text = "EXECUTANDO VERIFY..."
            TweenService:Create(titleLabel, TweenInfo.new(0.3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 3, true), {TextTransparency = 0.3}):Play()
            executeRealCommand(command.command, nil)
            titleLabel.Text = "VERIFY EXECUTADO!"
            titleLabel.TextColor3 = Color3.fromRGB(70, 255, 70)
        else
            if selectedPlayer then
                titleLabel.Text = "EXECUTANDO " .. command.command:upper() .. "..."
                TweenService:Create(titleLabel, TweenInfo.new(0.3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 3, true), {TextTransparency = 0.3}):Play()
                local success, playerName = executeRealCommand(command.command, selectedPlayer)
                if success then
                    titleLabel.Text = command.command:upper() .. " EXECUTADO EM " .. (playerName or selectedPlayer):upper()
                    titleLabel.TextColor3 = Color3.fromRGB(70, 255, 70)
                    local successSound = Instance.new("Sound")
                    successSound.SoundId = "rbxasset://sounds/electronicpingshort.wav"
                    successSound.Volume = 0.3
                    successSound.Parent = workspace
                    successSound:Play()
                    Debris:AddItem(successSound, 3)
                    button.BackgroundColor3 = Color3.fromRGB(70, 255, 70)
                    wait(0.5)
                    button.BackgroundColor3 = command.color
                else
                    titleLabel.Text = "FALHA AO EXECUTAR!"
                    titleLabel.TextColor3 = Color3.fromRGB(255, 70, 70)
                    local errorSound = Instance.new("Sound")
                    errorSound.SoundId = "rbxasset://sounds/impact_water.mp3"
                    errorSound.Volume = 0.2
                    errorSound.Parent = workspace
                    errorSound:Play()
                    Debris:AddItem(errorSound, 3)
                end
            else
                titleLabel.Text = "SELECIONE UM JOGADOR!"
                titleLabel.TextColor3 = Color3.fromRGB(255, 200, 70)
                for i = 1, 3 do
                    TweenService:Create(dropdownFrame, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(255, 100, 100)}):Play()
                    wait(0.2)
                    TweenService:Create(dropdownFrame, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(20, 20, 30)}):Play()
                    wait(0.2)
                end
            end
        end
        spawn(function()
            wait(3)
            titleLabel.Text = "KitK4t ADM"
            titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            TweenService:Create(titleLabel, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
        end)
    end)
end

for _, command in ipairs(adminCommands) do
    createCompactButton(command)
end

local function animateButtons()
    local delay = 0
    for _, button in ipairs(buttonsFrame:GetChildren()) do
        if button:IsA("TextButton") then
            button.Position = button.Position + UDim2.new(0, 0, 0, 20)
            button.BackgroundTransparency = 1
            TweenService:Create(button, TweenInfo.new(0.3, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, 0, false, delay), {Position = button.Position - UDim2.new(0, 0, 0, 20), BackgroundTransparency = 0.2}):Play()
            delay = delay + 0.05
        end
    end
end

local panelVisible = false

local function showPanel()
    mainPanel.Visible = true
    mainPanel.Size = UDim2.new(0, 0, 0, 0)
    mainPanel.Position = UDim2.new(0.5, 0, 0.5, 0)
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxasset://sounds/u_whoosh.wav"
    sound.Volume = 0.4
    sound.Parent = mainPanel
    sound:Play()
    Debris:AddItem(sound, 2)
    TweenService:Create(mainPanel, TweenInfo.new(0.5, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out), {Size = UDim2.new(0, 400, 0, 550), Position = UDim2.new(0.5, -200, 0.5, -275)}):Play()
    TweenService:Create(panelGlow, TweenInfo.new(0.5), {Transparency = 0.3}):Play()
    for i = 1, 5 do
        local particle = createParticle()
        particle.Position = UDim2.new(0.5, math.random(-100, 100), 0.5, math.random(-100, 100))
        particle.Parent = mainPanel
        TweenService:Create(particle, TweenInfo.new(0.5), {Position = UDim2.new(0.5, math.random(-200, 200), 0.5, math.random(-200, 200)), BackgroundTransparency = 1}):Play()
        Debris:AddItem(particle, 0.5)
    end
    panelVisible = true
    updatePlayerList()
    animateButtons()
end

local function hidePanel()
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxasset://sounds/u_whoosh.wav"
    sound.Volume = 0.4
    sound.Parent = mainPanel
    sound:Play()
    Debris:AddItem(sound, 2)
    local hideTween = TweenService:Create(mainPanel, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Size = UDim2.new(0, 0, 0, 0), Position = UDim2.new(0.5, 0, 0.5, 0)})
    TweenService:Create(panelGlow, TweenInfo.new(0.3), {Transparency = 0.5}):Play()
    hideTween:Play()
    hideTween.Completed:Connect(function()
        mainPanel.Visible = false
        panelVisible = false
    end)
    if dropdownOpen then
        dropdownList.Visible = false
        dropdownOpen = false
        dropdownArrow.Text = "▶"
    end
end

adminButton.MouseEnter:Connect(function()
    TweenService:Create(adminButton, TweenInfo.new(0.2), {BackgroundTransparency = 0, Size = UDim2.new(0, 55, 0, 55)}):Play()
    TweenService:Create(buttonGlow, TweenInfo.new(0.2), {Transparency = 0.3}):Play()
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxasset://sounds/u_click.wav"
    sound.Volume = 0.2
    sound.Parent = adminButton
    sound:Play()
    Debris:AddItem(sound, 1)
end)

adminButton.MouseLeave:Connect(function()
    TweenService:Create(adminButton, TweenInfo.new(0.2), {BackgroundTransparency = 0.2, Size = UDim2.new(0, 50, 0, 50)}):Play()
    TweenService:Create(buttonGlow, TweenInfo.new(0.2), {Transparency = 0.5}):Play()
end)

adminButton.MouseButton1Click:Connect(function()
    if panelVisible then
        hidePanel()
    else
        showPanel()
    end
end)

closeButton.MouseButton1Click:Connect(hidePanel)

-- Iniciar
spawn(animateLoadingScreen)
wait(5)
adminButton.Visible = true
